{% extends "base.html" %}

{% block title %}Dashboard - ARGent{% endblock %}

{% block content %}
<div class="dashboard-page">
    <div class="dashboard-header">
        <h1>[ STATUS ]</h1>
        <p class="dashboard-subtitle">System monitoring active</p>
    </div>

    <!-- Trust Meters Section -->
    <section class="dashboard-section">
        <h2 class="section-title">> Agent Trust Levels</h2>
        <div class="trust-grid">
            {% for agent in stats.trust_stats %}
            <div class="trust-card">
                <div class="agent-header">
                    <div class="agent-avatar-placeholder">{{ agent.display_name[0] }}</div>
                    <div class="agent-info">
                        <span class="agent-name">{{ agent.display_name }}</span>
                        <span class="interaction-count">{{ agent.interaction_count }} interactions</span>
                    </div>
                </div>
                <div class="trust-meter">
                    <div class="trust-bar-container">
                        <div class="trust-indicator" style="left: {{ ((agent.trust_score + 100) / 200 * 100) | round }}%"></div>
                    </div>
                    <div class="trust-labels">
                        <span class="trust-label-min">-100</span>
                        <span class="trust-label-current {% if agent.trust_score >= 0 %}positive{% else %}negative{% endif %}">
                            {% if agent.trust_score >= 0 %}+{% endif %}{{ agent.trust_score }}
                        </span>
                        <span class="trust-label-max">+100</span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <!-- Game Progress Section -->
    <section class="dashboard-section">
        <h2 class="section-title">> Mission Progress</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <span class="stat-icon">[TIME]</span>
                <span class="stat-value">{{ stats.game_progress.time_played_display }}</span>
                <span class="stat-label">Time Active</span>
            </div>
            <div class="stat-card">
                <span class="stat-icon">[MILE]</span>
                <span class="stat-value">{{ stats.game_progress.milestone_count }}</span>
                <span class="stat-label">Milestones</span>
            </div>
            <div class="stat-card">
                <span class="stat-icon">[INTEL]</span>
                <span class="stat-value">{{ stats.game_progress.knowledge_count }}</span>
                <span class="stat-label">Intel Gathered</span>
            </div>
        </div>

        {% if stats.game_progress.knowledge_by_category %}
        <div class="knowledge-breakdown">
            <h3 class="subsection-title">Intel by Category:</h3>
            <div class="category-list">
                {% for category, count in stats.game_progress.knowledge_by_category.items() %}
                <div class="category-item">
                    <span class="category-name">{{ category }}</span>
                    <span class="category-count">{{ count }}</span>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </section>

    <!-- Activity Summary Section -->
    <section class="dashboard-section">
        <h2 class="section-title">> Communication Log</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <span class="stat-icon">[OUT]</span>
                <span class="stat-value">{{ stats.activity.total_messages_sent }}</span>
                <span class="stat-label">Messages Sent</span>
            </div>
            <div class="stat-card">
                <span class="stat-icon">[IN]</span>
                <span class="stat-value">{{ stats.activity.total_messages_received }}</span>
                <span class="stat-label">Messages Received</span>
            </div>
            <div class="stat-card">
                <span class="stat-icon">[THR]</span>
                <span class="stat-value">{{ stats.activity.conversation_count }}</span>
                <span class="stat-label">Conversations</span>
            </div>
        </div>
    </section>
</div>

{% include "partials/bottom_nav.html" %}
{% endblock %}
